<h3>Current addresses</h3>

<% if !@address.empty? %>
  <% i = 0 %> 
  <% while i <= (@address.length/3) + (3 - @address.length % 3) %>
    <div class='row'>
      <% j = 0 %>
      <% while ((j<3) and ((i*3) + j) < @address.length ) %>
        <% k = (i * 3) + j %>
        <div class='span2.5'>
          <table class="table table-striped table-bordered table-condensed table-nonfluid">
            <tbody>
              <tr>
                <td colspan='2'>
                  <%= @address[k].address_line1 %></br>
                  <%= @address[k].pin %></br>
                </td>
              </tr>
              <tr>
                <td><%= link_to "Edit", edit_address_path(@address[k].id), class: "btn btn-small "%></td>
                <td><%= link_to "Delete", address_path(@address[k].id), :method => "delete", class: "btn btn-small ", data: { confirm: 'Are You Sure' }%>
                </td>                
              </tr>
            </tbody>
          </table>
        </div>
        <% j+=1 %>
      <% end %>    
    </div>  
    <% i = i + 1 %>
  <% end %>
<% end %>
<br />

<%= link_to 'Add an address', new_address_path, class: "btn btn-small" %>